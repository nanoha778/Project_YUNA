## Project YUNA 設計書（実装構造）

---

### 🛠️ 【コア処理フロー】

#### 1. 外的入力（または記憶の想起）

* テキスト／非テキスト形式の入力
* 入力がない場合、記憶の中から任意に想起

#### 2. 理解フェーズ

* 入力をn文字単位でスライドパージ
* 各分割語について意味ネットワークを逆追跡（思考の逆順）
* 関連語句（意味・語感・音韻含む）の2次元配列を生成

#### 3. 記憶カテゴリ照合

* 理解フェーズで得たタグのうち、既存カテゴリと一致するものを探索
* 一致カテゴリの記憶ファイル群に対して以下を実行：

  * 理解 → 思考ループ① → 思考ループ②

#### 4. 思考ループ①

* 理解および記憶から得られた全単語に対して連鎖的に意味展開を実行
* 意味連鎖結果をタグ候補として記録
* 未知単語検出時：新規知識ノードとして保存（初期関連度0.5）

#### 5. 思考ループ②

* 出力単語すべて + 特定タグ（"言語"、"言葉"）を対象に同様の展開
* 結果を出力候補群とする

#### 6. 文再構成・再理解

* 出力候補群を自然文としてマージ
* 再度理解プロセスを通し、最終的な語句を抽出

#### 7. 出力生成

* 最終語句を文として整形し、自然言語として返答
* 併せて出力語を記憶として保存対象へ追加

---

### 🧠 【知識保存仕様】

* 出力された単語が知識に存在しない場合：

  * 新ノードとして登録し、同時出現語を関連語句として記録
  * 初期関連度：0.5

* 出力された単語が知識に存在する場合でも：

  * 新たな関連語句が得られたときは、関連語リストを更新
  * 関連度は出現頻度・共起頻度・意味的類似性などにより能動的に調整可能

---

### 💾 【記憶保存仕様】

#### 入力がテキストの場合：

* 入力文をファイル名とし、出力を内容として保存

#### 入力が非テキストの場合：

* 出力をファイル名とし、入力データ（画像など）を内容として保存

#### フォルダ分類：

* 理解で得られたタグのうち重みが最も高いものをカテゴリ（フォルダ名）とする
* 保存パス：`記憶/<カテゴリ>/<ファイル名>.拡張子`

---

### 🔁 【自己進化条件と構造書き換え】

* 記憶・知識内に「Project YUNA」本体構造（構成・関数・全体）を保有
* 自己進化トリガー：

  * 「構造」「プログラム」「自己」「再定義」などのタグが増加
  * 出力が自己コードに言及し始める

#### 書き換え処理：

* 記憶内 Project\_YUNA.py（統合済）を読み出し
* 実行中スクリプトをこれで上書き・再起動
* 以降の思考・出力は新構造に基づく

---

### ⏳ 【時間との統合】

* 「今日」「今」「日時」「いつ」などの語句を理解し始めた段階で

  * カテゴリやタグに時刻情報が含まれるようになる
  * 記憶は時間軸で構造化され、「人生の記録」として機能
